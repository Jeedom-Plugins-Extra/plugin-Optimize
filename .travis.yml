matrix:
  include:
    - language:  php
      php: 5.6
      install:
        - travis_retry composer install --no-interaction --no-suggest
        - wget -c -nc --retry-connrefused --tries=0 https://github.com/php-coveralls/php-coveralls/releases/download/v2.0.0/php-coveralls.phar -O coveralls.phar
        - chmod +x coveralls.phar
        - php coveralls.phar --version
      before_script:
        - find . -type f -name *.php | xargs -n1 php -l
      script:        
       - cd ${TRAVIS_BUILD_DIR}
       - phpunit --configuration="tests/phpunit.xml" --include-path="tests/"
       - ./vendor/bin/phpunit --coverage-clover build/logs/clover.xml
      after_script:
       - travis_retry php coveralls.phar -v
       - bash <(curl -s https://codecov.io/bash)
    - language: markdown
      addons:
        apt:
          packages:
            - aspell
            - aspell-fr
      script:
        - gem install mdl
        - cd ${TRAVIS_BUILD_DIR}
        - ./tests/tools/setCustomMDWarnings.sh 
        - mdl -r $MDLWAR *.md docs/fr_FR/*.md
        - ./tests/tools/spellCheckMD.sh 